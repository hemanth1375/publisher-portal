<!-- <p>open-api works!</p> -->
<div class="container">
  <div class="row">
    <form [formGroup]="formGroupOpenAPI">
      <div class="row">
        <div class="col-sm-12 heading-with-toggle d-flex align-items-center gap-2 mb-3">
          <div>
            <h3>OpenAPI</h3>
          </div>
          <div>
            <mat-slide-toggle #openApi id="isOpenApi"
              (change)="onToggleChangeStaticResponse($event, openApi.id)"></mat-slide-toggle>
          </div>
        </div>
        @if(!isOpenApi){
        <p>The OpenAPI or Swagger documentation is automatically generated by the KrakenD Enterprise binary when you use
          the krakend generate openapi command.
        </p>
        }@else{
        <div class="row">
          <p>General OpenAPI information for your developers. <b>All fields are optional.</b></p>
          <div class="col-sm-12 d-flex mb-3">
            <div class="col-sm-12 col-md-6 gap-2">
              <label for="openApiHost" class="form-label">Host</label>
              <input type="text" id="openApiHost" class="form-control input-size" formControlName="openApiHostForm"
                placeholder="my.api.com">
              <div class="form-text">The hostname where your API is hosted</div>

            </div>
            <div class="col-sm-12 col-md-6 gap-2">
              <label for="openApiBasePath" class="form-label">Base path</label>
              <input type="text" id="openApiBasePath" class="form-control input-size"
                formControlName="openApiBasePathForm">


            </div>
          </div>
          <div class="col-sm-12 d-flex mb-3">
            <div class="col-sm-12 col-md-6 gap-2">
              <label for="openApiDescription" class="form-label">Description</label>
              <input type="text" id="openApiDescription" class="form-control input-size"
                formControlName="openApiDescriptionForm"
                placeholder="This is an API. Read more at [http://blah](http://blah.blah.com)">
              <div class="form-text">An URL where the developer can see the Terms of Service of your API</div>

            </div>
            <div class="col-sm-12 col-md-6 gap-2">
              <label for="openApiVersion" class="form-label">Version</label>
              <input type="text" id="openApiVersion" class="form-control input-size"
                formControlName="openApiVersionForm" placeholder="1.0">
              <div class="form-text">The version of your API</div>

            </div>
          </div>
          <div class="col-sm-12 d-flex mb-3">
            <div class="col-sm-12 col-md-6 gap-2">
              <label for="openApiContactName" class="form-label">Contact name</label>
              <input type="text" id="openApiContactName" class="form-control input-size"
                formControlName="openApiContactNameForm" placeholder="The API department">
              <div class="form-text">The contact name behind this API</div>

            </div>
            <div class="col-sm-12 col-md-6 gap-2">
              <label for="openApiContactEmail" class="form-label">Contact email</label>
              <input type="text" id="openApiContactEmail" class="form-control input-size"
                formControlName="openApiContactEmailForm" placeholder="contact@email.com">
              <div class="form-text">An URL where the developer can see the Terms of Service of your API</div>

            </div>
          </div>
          <div class="col-sm-12 d-flex mb-3">
            <div class="col-sm-12 col-md-6 gap-2">
              <label for="openApiContactUrl" class="form-label">Contact URL</label>
              <input type="text" id="openApiContactUrl" class="form-control input-size"
                formControlName="openApiContactUrlForm" placeholder="https://your.company/developers">
              <div class="form-text">The URL to get in tocuh regarding this API</div>

            </div>
            <div class="col-sm-12 col-md-6 gap-2">
              <label for="openApiTermsOfService" class="form-label">Terms of Service</label>
              <input type="text" id="openApiTermsOfService" class="form-control input-size"
                formControlName="openApiTermsOfServiceForm" placeholder="http://url.to/tos">

              <div class="form-text">An URL where the developer can see the Terms of Service of your API</div>

            </div>
          </div>
          <div class="col-sm-12 d-flex mb-3">
            <div class="col-sm-12 col-md-6 gap-2">
              <label for="openApiLicenseName" class="form-label">License name</label>
              <input type="text" id="openApiLicenseName" class="form-control input-size"
                formControlName="openApiLicenseNameForm" placeholder="MIT">
              <div class="form-text">The contact name behind this API</div>

            </div>
            <div class="col-sm-12 col-md-6 gap-2">
              <label for="openApiLicenseUrl" class="form-label">License URL</label>
              <input type="text" id="openApiLicenseUrl" class="form-control input-size"
                formControlName="openApiLicenseUrlForm" placeholder="http://url.to/tos">
              <div class="form-text">An URL where the developer can see the Terms of Service of your API</div>


            </div>
          </div>
          <div class="col-sm-12 d-flex mb-3">
            <div class="col-sm-12 col-md-6 gap-2">
              <label for="openApiTags" class="form-label">Tags</label>
              <div class="d-flex">
                <input type="text" id="openApiTags" class="form-control input-size input-with-button"
                  formControlName="openApiTagsForm" placeholder="foo">
                <button type="button" class="btn btn-info button-with-input input-size1"
                  (click)="addParameter('openApiTagsForm')"><b>+</b></button>
              </div>
              <div class="mt-3 d-flex">
                <button *ngFor="let attr of openApiTagsArray; let i = index" class="parameter-item">
                  {{ attr }}<mat-icon (click)="removeParameter(i,'openApiTagsForm')"
                    class="d-flex align-items-center justify-content-end">close</mat-icon>
                </button>
              </div>


            </div>
            <div class="col-sm-12 col-md-6 gap-2">
              <label for="openApiSchemes" class="form-label">Schemes</label>
              <div class="d-flex">
                <input type="text" id="openApiSchemes" class="form-control input-size input-with-button"
                  formControlName="openApiSchemesForm" placeholder="foo">
                <button type="button" class="btn btn-info button-with-input input-size1"
                  (click)="addParameter('openApiSchemesForm')"><b>+</b></button>
              </div>
              <div class="form-text">The list of schemes supported (http or https)</div>
              <div class="mt-3 d-flex">
                <button *ngFor="let attr of openApiSchemesArray; let i = index" class="parameter-item">
                  {{ attr }}<mat-icon (click)="removeParameter(i,'openApiSchemesForm')"
                    class="d-flex align-items-center justify-content-end">close</mat-icon>
                </button>
              </div>


            </div>
          </div>
        </div>
        }

      </div>
      <div class="row mt-3 gap-2">
        <h3>Postman</h3>
        <p><b>No additional configuration needed.</b> A Postman collection is automatically generated by the KrakenD
          Enterprise binary when you use the krakend generate postman command.</p>

      </div>
      <div class="row">
        <div class="col-sm-12">
          <button mat-raised-button (click)="emitValue()">Save</button>
        </div>
      </div>
    </form>
  </div>

</div>